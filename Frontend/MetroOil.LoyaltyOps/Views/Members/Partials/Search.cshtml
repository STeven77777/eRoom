@using MetroOil.LoyaltyOps.Helpers
@model MetroOil.LoyaltyOps.Models.Members.MemberSearchModel
@{
    var urlPrefix = System.Configuration.ConfigurationManager.AppSettings["urlPrefix"];
}
<div class="page-content">
    <!-- BEGIN PAGE HEADER-->
    <!-- BEGIN PAGE BAR -->
    <div class="page-bar">
        <ul class="page-breadcrumb">
            <li>
                <a href="@urlPrefix/">Home</a>
                <i class="fa fa-caret-right"></i>
            </li>
            <li>
                <span>Member Search</span>
            </li>
        </ul>
    </div>
    <!-- END PAGE BAR -->
    <!-- BEGIN PAGE TITLE-->
    <!-- END PAGE TITLE-->
    <!-- END PAGE HEADER-->
    <!-- BEGIN MAIN CONTENT-->
    <!-- BEGIN FORM-->
    <div class="row">
        <div class="col-md-3 search-box">
            <div class="portlet box blue">
                <div class="portlet-title">
                    <div class="caption">
                        <span class="caption-subject">Search Options</span>
                    </div>
                    <div class="actions">
                        <div class="btn-group">
                            <button ng-click="ClearSearch();" type="button" class="btn blue btn-circle btn-outline">Clear</button>
                        </div>
                    </div>
                </div>
                <div class="portlet-body">
                    <div class="panel-group accordion" id="accordion-account">
                        <div class="panel panel-default">
                            <div class="panel-heading">
                                <h4 class="panel-title">
                                    <a class="accordion-toggle accordion-toggle-styled collapsed" data-toggle="collapse" data-parent="#accordion-account" data-target="#account-detail" aria-expanded="false"> ACCOUNT </a>
                                </h4>
                            </div>
                            <div id="account-detail" class="panel-collapse collapse" aria-expanded="false">
                                <div class="">
                                    @Html.CustomNgTextBoxFor(model => model.AcctNo, null, new { @placeholder="Input a member account number" })
                                    @Html.CustomNgTextBoxFor(model => model.FullName, null, new { @placeholder = "Input a member's full name" })
                                    @Html.CustomNgTextBoxFor(model => model.CardNo, null, new { @placeholder = "Input a card number" })
                                    <div class="form-group">
                                        <label>Account Status</label>
                                        <select class="multiselect" multiselect-dropdown="" ng-model="_Object.SelectedAcctStses" ng-options="item.Value as item.Text for item in _Selects.Stses" multiple="multiple" button-width="auto" data-width="100%" data-placeholder="Account Status: All" noneselecttext="Account Status: All"></select>
                                    </div>
                                    <div class="form-group">
                                        <label>Joining Date</label>
                                        <div class="row">
                                            <div class="col-md-6 mid-padding-right lbl">From</div>
                                            <div class="col-md-6 mid-padding-left lbl">To</div>
                                        </div>
                                        <div class="row from-to">
                                            <div class="col-md-6 mid-padding-right">
                                                @Html.CustomNgTextBoxFor(model => model.JoinDateFrom, null, new { @emptyWrapper = "", @date_time = "", @view = "date", @min_view = "date", @auto_close = "true", @format = "YYYY/MM/DD" })
                                            </div>
                                            <div class="col-md-6 mid-padding-left">
                                                @Html.CustomNgTextBoxFor(model => model.JoinDateTo, null, new { @emptyWrapper = "", @date_time = "", @view = "date", @min_view = "date", @auto_close = "true", @format = "YYYY/MM/DD" })
                                            </div>
                                        </div>
                                    </div>
                                    @*@Html.CustomNgDateRangeFor(model => model.JoinDateFrom, model => model.JoinDateTo, "Joining Date", null, new { @date_time = "", @view = "date", @min_view = "hours", @auto_close = "true", @format = "DD-MM-YYYY HH:mm", @max_date = "JoinDateTo" }, new { @date_time = "", @view = "date", @min_view = "hours", @auto_close = "true", @format = "DD-MM-YYYY HH:mm", @max_date = "JoinDateFrom" })*@
                                    @*<div class="input-group input-large date-picker input-daterange">
            @Html.CustomNgTextBoxFor(model => model.JoinDateFrom, null, new { @date_time = "", id = "pickerMinSelector", date_change = "changeMinMax", @max_date = "maxDate", @view = "date", @min_view = "date", @auto_close = "true", @format = "DD-MM-YYYY" })
            <span class="input-group-addon"> to </span>
            @Html.CustomNgTextBoxFor(model => model.JoinDateTo, null, new { @date_time = "", id = "pickerMaxSelector", date_change = "changeMinMax", @min_date = "minDate", @view = "date", @min_view = "date", @auto_close = "true", @format = "DD-MM-YYYY" })
        </div>*@
                                    @*<div date-range="" class="input-group input-large date-picker input-daterange" data-date="10/11/2012" data-date-format="mm/dd/yyyy">
            <input type="text" class="form-control" name="from">
            <span class="input-group-addon"> to </span>
            <input type="text" class="form-control" name="to">
        </div>*@
                                    @*<input date-time="" ng-model="dates.minDate" id="pickerMinSelector" date-change="changeMinMax" max-date="maxDate" view="date" timezone="UTC" format="lll" class="ng-scope ng-dirty ng-touched ng-valid ng-valid-max">
        <input date-time="" ng-model="dates.maxDate" id="pickerMaxSelector" date-change="changeMinMax" min-date="minDate" view="date" timezone="UTC" format="lll" class="ng-scope ng-dirty ng-touched ng-valid-parse ng-invalid ng-invalid-min">*@
                                    @*@Html.CustomNgTextBoxFor(model => model.Dob, null, new { @date_time = "", @view = "date", @min_view = "date", @auto_close = "true", @format = "DD-MM-YYYY" })*@
                                    @*@Html.CustomNgDateRangeFor(model => model.DobFrom, model => model.DobTo, "Date of Birth", null, new { @date_time = "", @view = "date", @min_view = "date", @auto_close = "true", @format = "DD-MM-YYYY", @max_date = "DobTo" }, new { @date_time = "", @view = "date", @min_view = "date", @auto_close = "true", @format = "DD-MM-YYYY", @max_date = "DobFrom" })*@
                                    <div class="form-group">
                                        <label>Date of Birth</label>
                                        <div class="row">
                                            <div class="col-xs-6 mid-padding-right lbl">From</div>
                                            <div class="col-xs-6 mid-padding-left lbl">To</div>
                                        </div>
                                        <div class="row from-to">
                                            <div class="col-xs-6 mid-padding-right">
                                                <div class="input-group">
                                                    @Html.CustomNgSelectListFor(model => model.MMFrom, Model.MMFroms, null, new { @emptyWrapper = "", @LstName = "MMFroms", @class="select-mm", @defaultOptLabel="Month", @ng_change = "MMFromChanged();" })
                                                    @Html.CustomNgSelectListFor(model => model.DDFrom, Model.DDFroms, null, new { @emptyWrapper = "", @LstName = "DDFroms", @class = "select-dd", @defaultOptLabel="Day" })
                                                </div>
                                            </div>
                                            <div class="col-xs-6 mid-padding-left">
                                                <div class="input-group">
                                                    @Html.CustomNgSelectListFor(model => model.MMTo, Model.MMTos, null, new { @emptyWrapper = "", @LstName = "MMTos", @class = "select-mm", @defaultOptLabel = "Month", @ng_change = "MMToChanged();" })
                                                    @Html.CustomNgSelectListFor(model => model.DDTo, Model.DDTos, null, new { @emptyWrapper = "", @LstName = "DDTos", @class = "select-dd", @defaultOptLabel = "Day" })
                                                </div>
                                            </div>
                                        </div>
                                        <p class="or-dob">OR</p>
                                        <div class="row">
                                            <div class="col-xs-6 mid-padding-right lbl">From</div>
                                            <div class="col-xs-6 mid-padding-left lbl">To</div>
                                        </div>
                                        <div class="row from-to">
                                            <div class="col-xs-6 mid-padding-right">
                                                @Html.CustomNgTextBoxFor(model => model.DOBDateFrom, null, new { @emptyWrapper = "", @date_time = "", @view = "date", @min_view = "date", @auto_close = "true", @format = "YYYY/MM/DD" })
                                            </div>
                                            <div class="col-xs-6 mid-padding-left">
                                                @Html.CustomNgTextBoxFor(model => model.DOBDateTo, null, new { @emptyWrapper = "", @date_time = "", @view = "date", @min_view = "date", @auto_close = "true", @format = "YYYY/MM/DD" })
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="panel-group accordion" id="accordion3">
                        <div class="panel panel-default">
                            <div class="panel-heading">
                                <h4 class="panel-title">
                                    <a class="accordion-toggle accordion-toggle-styled collapsed" data-toggle="collapse" data-parent="#accordion3" data-target="#collapse_3_2" aria-expanded="false"> CONTACT </a>
                                </h4>
                            </div>
                            <div id="collapse_3_2" class="panel-collapse collapse" aria-expanded="false">
                                <div class="">
                                    @Html.CustomNgTextBoxFor(model => model.HpNo, null, new { @placeholder = "Input a mobile phone number" })
                                    @Html.CustomNgTextBoxFor(model => model.EmailAddress, null, new { @placeholder = "Input an email address" })
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="panel-group accordion" id="accordion-address">
                        <div class="panel panel-default">
                            <div class="panel-heading">
                                <h4 class="panel-title">
                                    <a class="accordion-toggle accordion-toggle-styled collapsed" data-toggle="collapse" data-parent="#accordion-address" data-target="#address-detail" aria-expanded="false"> ADDRESS </a>
                                </h4>
                            </div>
                            <div id="address-detail" class="panel-collapse collapse" aria-expanded="false">
                                <div class="">
                                    @Html.CustomNgTextBoxFor(model => model.City, null, new { @placeholder = "Input a city name" })
                                    <div class="form-group">
                                        <label>State</label>
                                        <select class="multiselect" multiselect-dropdown="" ng-model="_Object.SelectedStates" ng-options="item.Value as item.Text for item in _Selects.States" multiple="multiple" button-width="auto" data-width="100%" data-placeholder="State: All" noneselecttext="State: All"></select>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="portlet-footer">
                    <button ng-click="OnSearch();" type="button" class="btn blue btn-left"><i class="material-icons">search</i> Search</button>
                </div>
            </div>
        </div>
        <div class="col-md-9">
            <div class="portlet box blue">
                <div class="portlet-title">
                    <div class="caption">
                        <span class="caption-subject">Results</span>
                    </div>
                </div>
                <div class="portlet-body result-search">
                    <div ng-hide="firstInitData">
                        <div ng-hide="searchInputError">
                            <table dtable options="dtOptions" class="table table-bordered hover">
                                <thead class="">
                                    <tr>
                                        <th>#</th>
                                        <th>Member Account No.</th>
                                        <th>Full Name</th>
                                        <th>Title</th>
                                        <th>Identity No.</th>
                                        <th>Account Status</th>
                                        <th>Joining Date</th>
                                    </tr>
                                </thead>
                                <tbody class="tb-pointer"></tbody>
                            </table>
                        </div>
                        <div ng-show="searchInputError" class="not-search error">
                            <a class="dashboard-stat dashboard-search">
                                <i class="material-icons">error_outline</i>
                            </a>
                            <h3>No search criteria is selected.</h3>
                            <span>Select at least 1 search criteria to proceed.</span>
                        </div>
                    </div>
                    <div ng-show="firstInitData" class="not-search">
                        <a class="dashboard-stat dashboard-search">
                            <i class="material-icons">search</i>
                        </a>
                        <h3>Nothing to display here.</h3>
                        <span>Members you search for will appear here.</span>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <script type="text/javascript">
        jQuery(document).ready(function () {
            // Remove left menu
            $('body').addClass('layout1menu');

            //$(".mt-multiselect").each(function (index) {
            //    $(this).multiselect({
            //        nonSelectedText: $(this).attr('noneSelectText'),
            //        maxHeight: 250
            //    });
            //});
        });
    </script>
    <!-- END FORM-->
    <!-- END MAIN CONTENT-->

</div>